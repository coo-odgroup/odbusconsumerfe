<ngx-spinner bdColor = "rgba(0, 0, 0, 0.8)" size = "medium" color = "#fff" 
type = "ball-clip-rotate" [fullScreen] = "true"><p style="color: white" > Loading... </p></ngx-spinner>

<ng-container *ngIf="!isMobile">
<section class="top-routs offer-sec">
  <span class="line-span"><div class="container"><h2>Offers</h2></div></span>
 <div class="textimonials-result1">
     <div class="container">
         <div class="main-tnc"> 
           <div class="row">
            <div class="col-md-4" *ngFor="let o of allOffers;let i = index">
              <div class="card">  
              <a (click)="OfferModal(offermodal,i)" >
                <img *ngIf="o.slider_photo && (o.slider_photo!='' && o.slider_photo!=null)" class="card-img-top" src="{{ o.slider_photo }}" />
              </a>
                <div class="card-block">
                  <!-- <h4 class="card-title">{{o.occassion}}</h4> -->
                </div>
              </div>
            </div>
              
             </div>
         </div>
     </div>
  </div>
 </section>


</ng-container>

<ng-container *ngIf="isMobile && !MenuActive">
  <div class="mobile-mybooking-top">
    <div class="row">
            <div class="col-1 pr-0 pl-2 mob-arrow-left">
              <a routerLink="/">
                <i class="fas fa-arrow-left"></i>
              </a>  
            </div>
            <div class="col-7 pl-2 pr-2 mob-list-center">
                <h5>Offers</h5>
            </div>
            <div class="col-4 pl-2 pr-2">
                <div class="mobile-logo">
                    <img src="assets/img/mob-img/logo.png" />
                </div>
            </div>
        </div>   
    </div>

<div class="mobile-offerbox-middle">
    <div class="row" *ngFor="let o of allOffers;let i = index ">
       <div class="col-12">
         <div class="mobile-offer">
          <a (click)="OfferModal(offermodal,i)" >
           <img *ngIf="o.slider_photo && (o.slider_photo!='' && o.slider_photo!=null)"  src="{{ o.slider_photo }}"  alt="{{o.occassion}}" />
          </a>
           <!-- <h5>{{o.occassion}}</h5> -->
         </div>
       </div>
    </div>   
</div>


</ng-container>

<ng-container *ngIf="MenuActive">
  <div class="mobile-myaccount-top">
    <div class="row">
      <div class="col-5">
        <div class="mobile-logo">
          <img src="assets/img/mob-img/logo.png" />
        </div>
      </div>
      <div class="col-7 mob-logintx">
        <a routerLink="/login" *ngIf="!session.isLoggedIn()">
          Login / Signup
        </a>
        <a routerLink="/dashboard" *ngIf="session.isLoggedIn()">
          Dashboard
        </a>
      </div>
    </div>
  </div>

  <div class="mobile-myaccount-middle">
    <ul class="mobile-menu">
      <li>
        <a routerLink="/manage-booking"><i class="far fa-window-restore"></i> Manage Booking</a>
      </li>
      <li>
        <a routerLink="/operators"><i class="fas fa-bus"></i> Operators</a>
      </li>
      <li>
        <a routerLink="/routes"><i class="fas fa-map-marker-alt"></i> Routes</a>
      </li>
      <li>
        <a routerLink="/faq"><i class="fas fa-question"></i> FAQ's</a>
      </li>
      <li>
        <a routerLink="/testimonials"><i class="fa fa-star"></i> Testimonials</a>
      </li>
      <li>
        <a routerLink="/terms-conditions"><i class="fas fa-file-image"></i> Terms & Conditions</a>
      </li>
      <li>
        <a routerLink="/privacy-policy"><i class="far fa-file-powerpoint"></i> Privacy Policy</a>
      </li>
      <li>
        <a routerLink="/about-us"><i class="fas fa-info-circle"></i> About Us</a>
      </li>
      <li *ngIf="session.isLoggedIn()">
        <a routerLink="/my-reviews"><i class="fas fa-comments"></i>My Review</a>
      </li>
      <li *ngIf="session.isLoggedIn()">
        <a (click)="signOut()"><i class="fas fa-sign-out-alt"></i>Logout</a>
      </li>
    </ul>
  </div>
</ng-container>

<ng-container *ngIf="isMobile"> 
<div class="mob-mtbh"></div>
<div class="mobile-fixed-bottom">
  <div class="footer-menu row m-0 mobile-bg-danger">
    <div class="col-3 p-0 text-center">
      <a routerLink="/" class="home">
        <i class="fas fa-home"></i>
        <p class="mb-0 small">Home</p>
      </a>
    </div>
    <div class="col-3 p-0 text-center">
      <a routerLink="/dashboard" class="home">
        <i class="fas fa-ticket-alt"></i>
        <p class="mb-0 small">My Bookings</p>
      </a>
    </div>

    <div class="col-3 p-0 text-center" *ngIf="!session.isLoggedIn()">
      <a routerLink="/login" class="home">
        <i class="fas fa-user"></i>
        <p class="mb-0 small">Login</p>
      </a>
    </div>

    <div class="col-3 p-0 text-center" *ngIf="session.isLoggedIn()">
      <a routerLink="/myaccount" class="home">
        <i class="fas fa-user"></i>
        <p class="mb-0 small">My Account</p>
      </a>
    </div>

    <div class="col-3 p-0 text-center">
      <a (click)="menu()" class="home {{activeMenu}}">
        <i class="fas fa-bars"></i>
        <p class="mb-0 small">Menu</p>
      </a>
    </div>
  </div>
</div>
</ng-container>

<ng-template #offermodal let-modal> 
     
  <div class="filter-mobile-modal">

  <div class="modal-header mob-filterbg"> 
    <h5>
      OFFER DETAILS
    </h5>      
      <button type="button" class="close close-mob" aria-label="Close" (click)="modal.dismiss('Cross Click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
  
  <div class="modal-body">
  
    <div *ngIf="OfferData.coupon">
      <p> COUPON CODE - {{OfferData.coupon.coupon_code}}</p>
      <p> COUPON IS APPLICABLE ON - 
        <span *ngIf="OfferData.coupon.valid_by==2">Booking date</span>
        <span *ngIf="OfferData.coupon.valid_by==1">Journey date</span>
       </p>
 
      <p> COUPON DISCOUNT - 
       <span *ngIf="OfferData.coupon.type==2">Rs {{OfferData.coupon.amount}}/-</span>
       <span *ngIf="OfferData.coupon.type==1">{{OfferData.coupon.percentage}}%</span>
      </p>
 
      <p> COUPON VALID FROM  - {{OfferData.coupon.from_date}} TO {{OfferData.coupon.to_date}}
      </p>
    </div>
    
    <div *ngIf="OfferData.coupon">
      <h6 class="text-danger">COUPON DESCRIPTION - </h6>
      <p  [innerHTML]="OfferData.coupon.full_desc">       
     </p>
    </div>

    <div *ngIf="OfferData.length!= 0">
      <p> OFFER TYPE : {{OfferData.occassion}}</p>
    </div>
    <div *ngIf="OfferData.slider_description != 'null' && OfferData.slider_description != null && OfferData.slider_description != ''">
      <h6 class="text-warning">SLIDER DESCRIPTION - </h6>
      <p>
        {{OfferData.slider_description}}
     </p>
    </div>    
  </div>
</div>      
</ng-template>