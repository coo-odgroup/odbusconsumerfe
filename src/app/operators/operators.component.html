<ngx-spinner bdColor = "rgba(0, 0, 0, 0.8)" size = "medium" color = "#fff" 
type = "ball-clip-rotate" [fullScreen] = "true"><p style="color: white" > Loading... </p></ngx-spinner>

<ng-container *ngIf="!isMobile">
<section class="opertbg top-routs">
    <span class="line-span"><div class="container"><h2>All Operators</h2></div></span>
   <div class="textimonials-result1">
       <div class="container">
           <div class="row">
               <div class="col-md-12"> 
                   <div class="main-tnc">

                    <!-- <div class="form-group col-md-4" align="right">
                        <input class="form-control" type="text" [(ngModel)]="searchText" placeholder="Search Operator">
                      </div>

                <ul *ngIf="(allOperators | filter: searchText).length > 0; else noResults">
                    <li *ngFor="let t of allOperators | filter: searchText  ;" >
                        <a  href="javascript:void(0);" (click)="operator_detail(t.operator_url);"> <img class="top-operators-img" src="assets/img/icon-bus-alt.svg"> {{ t.organisation_name}}</a>
                    </li>
                </ul>
                </div>

                <ng-template #noResults>
                    <p *ngIf="searchText">No results found for "{{searchText}}".</p>
                  </ng-template> -->


                  <span style="padding:2px;">
                    <a class="btn btn-warning cursor" (click)="getList(allOperators.first_page_url,'')">ALL</a>
                  </span>

                  <span *ngFor="let a of alphabets;"  style="padding:2px;">
                    <a class="btn btn-info cursor" (click)="getList(allOperators.first_page_url,a)">{{ a }}</a>
                  </span>

                  <ng-template #noResults>
                    <p *ngIf="allOperators">No operators found</p>
                  </ng-template>

                  <div class="pt-3 pb-2">
                  <ul *ngIf="allOperators && allOperators.data.length > 0; else noResults">
                    <li *ngFor="let t of allOperators.data;" >
                        <a  href="javascript:void(0);" (click)="operator_detail(t.operator_url);"> <img class="top-operators-img" src="assets/img/icon-bus-alt.svg"> {{ t.organisation_name}}</a>
                    </li>
                </ul>
                </div>
                  <div class="d-flex flex-row-reverse mb-5" *ngIf="allOperators && allOperators.links && allOperators.data.length > 0">
                    <nav class="my-1 pt-3">
                        <ol class="pagination pagination-circle pg-blue mb-0">
                           
                            <li (click)="getList(allOperators.first_page_url)" class="page-item {{ allOperators.current_page == 1 ? 'disabled' : '' }} clearfix d-none d-md-block">
                              <a class="page-link cursor">First</a></li>
                            
                            <li class="page-item " *ngFor="let b of allOperators.links ; let i = index ">
                              <a class="page-link cursor {{ allOperators.current_page == b.label ? 'active' : '' }}"  (click)="(b.url) ? getList(b.url) : ''" [innerHTML]="page(b.label)"></a>
                            </li>
                            
                           
                            <li class="page-item {{ allOperators.last_page == 1 ? 'disabled' : '' }} clearfix d-none d-md-block" (click)="getList(allOperators.last_page_url)">
                              <a class="page-link cursor">Last</a></li>
                        </ol>
                    </nav>
                </div>

               </div>
           </div>
       </div>
    </div>
    </div>
   </section>
  </ng-container>

  <ng-container *ngIf="isMobile && !MenuActive">
    <div class="mobile-mybooking-top">
      <div class="row">
              <div class="col-1 pr-0 pl-2 mob-arrow-left">
                <a routerLink="/">
                  <i class="fas fa-arrow-left"></i>
                </a>  
                </div>
              <div class="col-7 pl-2 pr-2 mob-list-center">
                  <h5>Top Operators</h5>                                
              </div>
              <div class="col-4 pl-2 pr-2">
                  <div class="mobile-logo">
                      <img src="assets/img/mob-img/logo.png" />
                  </div>
              </div>
          </div>     
      </div> 

  
  
    <div class="mobile-operators-middle">

      <div class="row mb-3">
        <div class="col-12 pl-2 pr-2"> 
           
           <span style="padding:2px;">
             <a class="btn btn-warning cursor" (click)="getList(allOperators.first_page_url,'')">ALL</a>
           </span>
 
           <span *ngFor="let a of alphabets;"  style="padding:2px;">
             <a class="btn btn-info cursor" (click)="getList(allOperators.first_page_url,a)">{{ a }}</a>
           </span>
 
           <ng-template #noResults>
             <p *ngIf="allOperators">No operators found</p>
           </ng-template>
          
        </div>
       </div>


      <ul *ngIf="allOperators && allOperators.data.length > 0; else noResults" class="mobile-operators">
          <li *ngFor="let t of allOperators.data;" >
              <a  href="javascript:void(0);" (click)="operator_detail(t.operator_url);"> 
                <i class="fas fa-bus-alt"></i> {{ t.organisation_name}}
              </a>
          </li>
       </ul> 
       
       <div class="d-flex flex-row-reverse mb-5" *ngIf="allOperators && allOperators.links && allOperators.data.length > 0">
        <nav class="my-1 pt-3">
            <ol class="pagination pagination-circle pg-blue mb-0">
               
                <li (click)="getList(allOperators.first_page_url)" class="page-item {{ allOperators.current_page == 1 ? 'disabled' : '' }} clearfix d-none d-md-block">
                  <a class="page-link cursor">First</a></li>
                
                <li class="page-item " *ngFor="let b of allOperators.links ; let i = index ">
                  <a class="page-link cursor {{ allOperators.current_page == b.label ? 'active' : '' }}"  (click)="(b.url) ? getList(b.url) : ''" [innerHTML]="page(b.label)"></a>
                </li>
                
               
                <li class="page-item {{ allOperators.last_page == 1 ? 'disabled' : '' }} clearfix d-none d-md-block" (click)="getList(allOperators.last_page_url)">
                  <a class="page-link cursor">Last</a></li>
            </ol>
        </nav>
      </div> 
    </div>
    
</ng-container>

    <ng-container *ngIf="MenuActive">
      <div class="mobile-myaccount-top">
        <div class="row">
          <div class="col-5">
            <div class="mobile-logo">
              <img src="assets/img/mob-img/logo.png" />
            </div>
          </div>
          <div class="col-7 mob-logintx">
            <a routerLink="/login" *ngIf="!session.isLoggedIn()">
              Login / Signup
            </a>
            <a routerLink="/dashboard" *ngIf="session.isLoggedIn()">
              Dashboard
            </a>
          </div>
        </div>
      </div>
  
      <div class="mobile-myaccount-middle">
        <ul class="mobile-menu">
          <li>
            <a routerLink="/manage-booking"><i class="far fa-window-restore"></i>Manage Booking</a>
          </li>
          <li>
            <a routerLink="/contact-us"><i class="fas fa-envelope"></i>Contact Us</a>
          </li>
          <li>
            <a routerLink="/offers"><i class="fas fa-gifts"></i>Offers</a>
          </li>        
          <li>
            <a routerLink="/routes"><i class="fas fa-map-marker-alt"></i>Routes</a>
          </li>
          <li>
            <a routerLink="/faq"><i class="fas fa-question"></i>FAQ's</a>
          </li>
          <li>
            <a routerLink="/testimonials"><i class="fa fa-star"></i>Testimonials</a>
          </li>
          <li>
            <a routerLink="/terms-conditions"><i class="fas fa-file-image"></i>Terms & Conditions</a>
          </li>
          <li>
            <a routerLink="/privacy-policy"><i class="far fa-file-powerpoint"></i>Privacy Policy</a>
          </li>
          <li>
            <a routerLink="/about-us"><i class="fas fa-info-circle"></i>About Us</a>
          </li>
          <li *ngIf="session.isLoggedIn()">
            <a routerLink="/my-reviews"><i class="fas fa-comments"></i>My Review</a>
          </li>
          <li *ngIf="session.isLoggedIn()">
            <a (click)="signOut()"><i class="fas fa-sign-out-alt"></i>Logout</a>
          </li>
        </ul>
      </div>
    </ng-container>

<ng-container *ngIf="isMobile"> 
    <div class="mob-mtbh"></div>
    <div class="mobile-fixed-bottom">
      <div class="footer-menu row m-0 mobile-bg-danger">
        <div class="col-3 p-0 text-center">
          <a routerLink="/" class="home">
            <i class="fas fa-home"></i>
            <p class="mb-0 small">Home</p>
          </a>
        </div>
        <div class="col-3 p-0 text-center">
          <a routerLink="/dashboard" class="home">
            <i class="fas fa-ticket-alt"></i>
            <p class="mb-0 small">My Bookings</p>
          </a>
        </div>
  
        <div class="col-3 p-0 text-center" *ngIf="!session.isLoggedIn()">
          <a routerLink="/login" class="home">
            <i class="fas fa-user"></i>
            <p class="mb-0 small">Login</p>
          </a>
        </div>
  
        <div class="col-3 p-0 text-center" *ngIf="session.isLoggedIn()">
          <a routerLink="/myaccount" class="home">
            <i class="fas fa-user"></i>
            <p class="mb-0 small">My Account</p>
          </a>
        </div>
  
        <div class="col-3 p-0 text-center">
          <a (click)="menu()" class="home {{activeMenu}}">
            <i class="fas fa-bars"></i>
            <p class="mb-0 small">Menu</p>
          </a>
        </div>
      </div>
    </div>
</ng-container>