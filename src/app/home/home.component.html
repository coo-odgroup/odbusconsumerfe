<ng-template #Desktop>  
<ngx-spinner bdColor = "rgba(0, 0, 0, 0.8)" size = "medium" color = "#fff" 
type = "ball-clip-rotate" [fullScreen] = "true"><p style="color: white" > Loading... </p></ngx-spinner>


<section class="hero-banner" style="background-image: url({{bannerImage}}); background-size: cover; background-position: bottom !important;"  >
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-12">
                <div class="hero-banner-inner-text">
                    <!-- <h1 *ngIf="masterSettingRecord.common">{{master_info.operator_slogan}}</h1> -->
                    <!-- <h1>the most trusted & safest online bus booking platform</h1> -->
                    <h1 class="banner-text"> PLAN YOUR JOURNEY WITH <br/>THE MOST TRUSTED & SAFEST ONLINE BUS BOOKING PLATFORM</h1>
                </div>
            </div>

            <div class="col-md-12 top-ban">
            <form [formGroup]="searchForm" (ngSubmit)="submitForm()">
                <div class="hero-banner-inner-srchbus">
                    <div class="row no-gutters">
                       
                        <div class="col-md-10">
                            <div class="row no-gutters">
                                <div class="col-md-4 pr-1">
                                    <label><b>From</b></label>
                                    <div class="input-group mb-3 d-block">

                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon1"><img src="assets/img/Icon-metro-location.svg"></span>
                                        
                                            <input autocomplete="off" id="from" type="text" class="form-control pl-0"  
                                            [ngbTypeahead]="search" [resultTemplate]="rt" 
                                            [inputFormatter]="formatter" [ngModel]="swapsource" placeholder="Enter Source" 
                                            formControlName="source" (selectItem)="tabChange('to')"/>

                                            <ng-template #rt let-r="result" let-t="term">
                                                <ngb-highlight [result]="r.name" [term]="t"></ngb-highlight>
                                            </ng-template>
                                        
                                        
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4 pr-1 to_dest_block">
                                    <label><b>To</b></label>
                                    <div class="swap-srch cursor">
                                       <img (click)="swap();"  src="assets/img/swap.svg">
                                    </div>
                                    <div class="input-group mb-3 d-block">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text pl-3 pr-3" id="basic-addon2"><img
                                                    src="assets/img/Icon-metro-location.svg"></span>

                                                    <input autocomplete="off" id="to" type="text" class="form-control pl-0"  [ngbTypeahead]="search" 
                                                    [resultTemplate]="rt2" [inputFormatter]="formatter" 
                                                    [ngModel]="swapdestination" formControlName="destination" 
                                                    placeholder="Enter Destination"
                                                    (selectItem)="tabChange('entryDate')"
                                                    />
                                                  
                                                        <ng-template #rt2 let-r="result" let-t="term">
                                                            <ngb-highlight [result]="r.name" [term]="t"></ngb-highlight>
                                                        </ng-template>
                                                    
                                                    
                                        </div>
                                       
                                    </div>
                                </div>
                                <div class="col-md-4 date_inp">
                                    <label><b>Date of Journey</b></label>
                                    <div class="input-group mb-3">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text calendar" id="basic-addon3" (click)="d.toggle()" ><img src="assets/img/Icon-metro-calendar.svg"></span>
                                        </div>

                                        <input type="text" id="entryDate" autocomplete="off" class="form-control calendar"
                                        formControlName="entry_date" placeholder="Journey Date"
                                        [min]="dtconfig.minDate" [max]="dtconfig.maxDate" ngbDatepicker (click)="d.toggle()"
                                        #d="ngbDatepicker" readonly>

                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <label style="opacity: 0;"><b>Search</b></label>
                            <div class="bus_search">
                                <button type="submit"  class="btn">Search</button>
                            </div>
                        </div>
                    
                    </div>
                </div>
            </form>
            </div>
        </div>
    </div>
</section>

<!-- Offer Section -->

<section class="section-offer carousel-home fluid-15" *ngIf="Offers.length>0">
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <div class="section-offer-left">
                    <h2>ODBUS OFFERS</h2>
                </div>
            </div>
            <div class="col-md-6">

                <ul class="nav nav-tabs " id="myTab" role="tablist">
                    <!-- <li class="nav-item cursor" role="presentation"  (click)="getOffer('Bus Offers')">
                        <a class="nav-link {{ (activeTab=='Bus Offers') ? 'active' : '' }} " id="home-tab" data-toggle="tab"  role="tab"
                            aria-controls="home" aria-selected="true">Bus Offers</a>
                    </li>
                    <li class="nav-item cursor" role="presentation"  (click)="getOffer('Festive Offers')">
                        <a class="nav-link {{ (activeTab=='Festive Offers') ? 'active' : '' }}" id="profile-tab" data-toggle="tab" role="tab"
                            aria-controls="profile" aria-selected="false">Festive Offers</a>
                    </li> -->
                    <li class="nav-item cursor" role="presentation">
                        <a class="nav-link" id="messages-tab" data-toggle="tab" routerLink="offers" role="tab"
                            aria-controls="messages" aria-selected="false">View All</a>
                    </li>
                </ul>
            </div>

            <div class="col-md-12 section-offer-right-tab mt-4">

                <carousel 
                [cellsToShow]="3"
                [loop]="true"
                [autoplay]="true"
                [autoplayInterval]="2000" 
                [images]="offerList">                    
                </carousel>         
            </div>
        </div>
    </div>
</section>

<!-- Section About -->

<section class="section-about">
    <div class="container">
        <div class="row">
            <div class="col-md-6 about-img">
                <img src="assets/img/bus-stop.png">
                <!-- <div class="section-about-left">
                    <h3>About Us</h3>
                </div> -->
            </div>
            <div class="col-md-6">
                <div class="section-about-right">
                    <h3>About Us</h3>
                    <p *ngIf="masterSettingRecord.common" >{{master_info.operator_home_content}}</p>
                    <a routerLink="about-us"  class="border-btn bh mt-3">Read More</a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Growing section -->

<section class="section-growing fluid-15">
    <div class="container">
        <h4>The Numbers are Growing</h4>
        <div class="row">
            <div class="col-md-3">
                <div class="section-growing-box">
                <div class="grow-img"><img src="assets/img/routs.png"></div>
                    <h3>1500</h3>
                    <p>Routes</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="section-growing-box">
                <div class="grow-img"><img src="assets/img/buses.png"></div>
                    <h3>10000</h3>
                    <p>Buses</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="section-growing-box">
                <div class="grow-img"><img src="assets/img/sat-cust.png"></div>
                    <h3>300,000+</h3>
                    <p>Satisfied Customers</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="section-growing-box">
                <div class="grow-img"><img src="assets/img/support.png"></div>
                    <h3>24/7</h3>
                    <p>Customer Service</p>
                </div>
            </div>
        </div>
    </div>
</section>



<section class="app fluid-15">
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <div class="app-left">
                    <h3 class="title-section">Drive yourself <br />through the mobile</h3>
                    <img src="assets/img/app-down.png">
                    <p>Get SMS with link to download ODBUS App</p>
                </div>
                <form [formGroup]="appForm" (ngSubmit)="submitAppForm()">

                   


                    <div class="row">
                        <div class="col-md-6 pr-0">
                            <input type="text"  (keydown)="onlyNumbers($event);" maxlength ="10" class="form-control" formControlName="phone" id="phone" placeholder="Enter Mobile No." />
                                                        
                            <div *ngIf="appsubmitted && f.phone.errors" class="invalid-feedback">
                                <div class="log-left" *ngIf="f.phone.errors.required">Mobile no. is required</div>
                                <div class="log-left" *ngIf="f.phone.errors.pattern">Enter 10 digit Mobile Number</div>
                            </div>
                        </div>
                        <div class="col-md-3 pl-0">
                            <button type="submit" class="btn">Get Link</button>
                        </div>
                    </div>
                
                    
                
                    <div class="row">
                        <ngb-alert *ngIf="setAlert!=''">
                            {{ setAlert }}
                          </ngb-alert>
                          </div>
                
                </form>
            </div>
            <div class="col-md-6">
                <div class="app-right">
                    <img src="assets/img/app-bg.png">
                </div>
                
            </div>
        </div>
        
    </div>
</section>

<section class="why-us fluid-15">
    <div class="container">
        <h3 class="title-section">why ride with odbus?</h3>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-lg-3">
                <div class="why-us-box services">
                    <div class="why-img"><img src="assets/img/open-24-hours.svg">
                    </div>    
                    <h3>services</h3>
                    <p>We offer the best in class facilities and services for a happy journey</p>
                </div>
            </div>
            <div class="col-md-6 col-lg-3">
                <div class="why-us-box secure">
                    <div class="why-img"><img src="assets/img/surface1.svg">
                    </div>    
                    <h3>secure</h3>
                    <p>High standard safety measures and customer friendly staffs</p>
                </div>
            </div>
            <div class="col-md-6 col-lg-3">
                <div class="why-us-box friendly">
                    <div class="why-img"><img src="assets/img/pocket-friendly.svg">
                    </div>    
                    <h3>pocket friendly</h3>
                    <p>Affordable rates to suit every pocket</p>
                </div>
            </div>
            <div class="col-md-6 col-lg-3">
                <div class="why-us-box exciting">
                    <div class="why-img"><img src="assets/img/gift-box.svg">
                    </div>    
                    <h3>exciting offers</h3>
                    <p>We offer unmatched discounts to make your journey more economical</p>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="top-operators fluid-15" *ngIf="topOperators && topOperators.length > 0 " >
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <h3 class="title-section">Top Operators</h3>
            </div>
            <div class="col-md-6 text-right">
                <a routerLink="operators" class="border-btn bh">All Operators</a>
            </div>
        </div>
    </div>
    <div class="container">
        <ul>
            <li *ngFor="let t of topOperators;">
                <a href="javascript:void(0);" (click)="operator_detail(t.operator_url);" > <img src="assets/img/icon-bus-alt.svg">{{ t.organisation_name}}</a></li>
           
        </ul>
    </div>
</section>



</ng-template>  


<ng-template #Mobile>

    <ng-container *ngIf="!MenuActive">
    
    <div class="mobile-search-box">
        <div class="row">
            <div class="col-7"><h3>Book Bus Tickets</h3></div>
            <div class="col-5">
                <div class="mobile-logo">
                    <img src="assets/img/mob-img/logo.png" />
                </div>
            </div>
        </div>
        <div class="mobile-white-box shadow-sm">
            <form [formGroup]="searchForm" (ngSubmit)="submitForm()">
                <div class="row">
                    <div class="col-1 p-0">
                        <img src="assets/img/Icon metro-location (1).svg" class="img1"><br>
                        <img src="assets/img/Line 11.svg"  class="img2"> <br>
                        <img src="assets/img/Icon metro-location (1).svg"  class="img3">
                    </div>
                    <div class="col-9 p-2">
                        <div class="form-group border-bottom">
                             <label class="mb-2">From</label><br>
                             <input autocomplete="off" id="from" type="text" class=""
                                            [ngbTypeahead]="search" [resultTemplate]="rt" [inputFormatter]="formatter"
                                            [ngModel]="swapsource" placeholder="Enter Source" formControlName="source"
                                            (selectItem)="tabChange('to')" />
                                        <ng-template #rt let-r="result" let-t="term">
                                            <ngb-highlight [result]="r.name" [term]="t"></ngb-highlight>
                                        </ng-template>
                        </div>
                        <div class="form-group border-bottom">
                            <label class="mb-2">To</label><br>
                            <input autocomplete="off" id="to" type="text" class=""
                            [ngbTypeahead]="search" [resultTemplate]="rt2" [inputFormatter]="formatter"
                            [ngModel]="swapdestination" formControlName="destination"
                            placeholder="Enter Destination" />
                        <ng-template #rt2 let-r="result" let-t="term">
                            <ngb-highlight [result]="r.name" [term]="t"></ngb-highlight>
                        </ng-template>
                       </div>
                       <!-- <div class="form-group border-bottom">
                            <label class="mb-2">Date of Journey</label><br>
                            <input type="text" placeholder="Journey Date" />
                        </div> -->
                    </div>
                    <div class="col-2 p-1"><img (click)="swap();" src="assets/img/mob-img/swap.png" class="img4"></div>
                </div>
                <div class="row mobile-date-box pl-2">
                    <div class="col-1 p-0"></div>
                    <input [(ngModel)]="dtconfig.minDate" style="display:none" formControlName="entry_date">

                    <div class="col-9 pb-3 pl-0 pr-2" (click)="OpenCalendar(calendar)">
                        <div class="mob-dt-big">
                            Departure Date<br/>
                            <i class="far fa-calendar-alt"></i> {{ selectedDate |  date:'EEE, d MMMM , y'}}
                        </div>
                    </div> 
                    <div class="col-2 p-1"></div>                  
                </div>
                <div class="row pl-2">
                    <div class="col-1 p-0"></div>
                    <div class="col-9 pb-3 pl-0 pr-2">
                        <div class="mob-bus_search">
                            <button type="submit" class="btn mob-bt shadow-sm">Search Buses</button>
                        </div>
                    </div>
                    <div class="col-2 p-1"></div>
                </div>
            </form>
        </div>
    </div>

    

    <div class="p-3 mobile-recent-searches">
        <h6 class="text-left" *ngIf="recentSearchFrom!=null && recentSearchTo!=null && recentSearchDt !=null"><i class="fas fa-search"></i> Recent Searches</h6>
        <h6 class="text-left" *ngIf="recentSearchFrom==null && recentSearchTo==null && recentSearchDt ==null"><i class="fas fa-search"></i>No Recent Searches ...</h6>
        <div class="row m-0" (click)="bookAgain()">
              <div class="col-12 pl-1 pr-1">
                 <div class="mob-res shadow-sm"  *ngIf="recentSearchFrom!=null && recentSearchTo!=null && recentSearchDt !=null">
                    <div class="mob-res-left">
                        <span>{{recentSearchFrom}}</span><br/>
                        <i class="fas fa-long-arrow-alt-down"></i><br/>
                        <span>{{recentSearchTo}}</span>
                    </div>
                    <div class="mob-res-right">
                        <span>{{recentSearchDt |  date:'EEE' }}</span>
                        <br/>
                        <span>{{recentSearchDt |  date:'d MMM,y' }}</span>
                        
                        <div class="bn" (click)="bookAgain()">Book Now</div>
                    </div>
                    <div class="clearfix"></div>
                 </div>
              </div>
        </div>
    </div>
    


     
    <div class="p-3 mobile-discount">
        <div class="row m-0 ">
            <div class="col-7 pl-1"><h6 class="text-left mb-0">ODBUS Offers</h6></div>
            <div class="col-5 pr-1 text-right off-text"> <a class="text-right" id="messages-tab" data-toggle="tab" routerLink="offers" role="tab"
                aria-controls="messages" aria-selected="false">View All Offer</a></div>
        </div>
        <div class="row m-0">        
            
            <div class="col-12 pl-1 pr-1 section-offer-right-tab mt-1">

                <carousel 
                [cellsToShow]="1"
                [loop]="true"
                [autoplay]="true"
                [arrows]="false"
                [autoplayInterval]="2000" 
                [images]="offerList" style="height: 160px;">                    
                </carousel>   

                <!-- <carousel [cellsToShow]="1" [autoplay]="true" [dots]="true" [arrows]="false" [arrowsTheme]="dark" style="height: 170px;" [images]="offerList"> 
                </carousel>          -->
            </div>

        </div>
    </div>

   

     </ng-container>


    <!-- Bus Seat Layout Start-->
     
    

    <!-- Bus Seat Layout End-->
    

    <ng-template #calendar let-modal>
        
        <div class="cal-modal-mobile">
            <div class="modal-body">
                <ngb-datepicker  #dp [(ngModel)]="model" [min]="dtconfig.minDate" [max]="dtconfig.maxDate" (dateSelect)="onDateSelect($event)"></ngb-datepicker>
            </div>
        </div>
    
            <div class="modal-footer">
                <button type="button" class="btn btn-light" (click)="modal.close('Close click')">Close</button>
             </div>

    </ng-template>

    <ng-container *ngIf="MenuActive">
    
            
        <div class="mobile-myaccount-top">
            <div class="row">
                <div class="col-5">
                    <div class="mobile-logo">
                        <img src="assets/img/mob-img/logo.png" />
                    </div>
                </div>
                <div class="col-7 mob-logintx">
                      <a routerLink="login" *ngIf="! session.isLoggedIn()" > Login / Signup </a>
                      <a routerLink="dashboard" *ngIf="session.isLoggedIn()" > Dashboard </a>
                </div>
            </div>
        </div>
        
        
        
        <div class="mobile-myaccount-middle">
           <ul class="mobile-menu">
              <li><a routerLink="manage-booking"><i class="far fa-window-restore"></i> Manage Booking</a></li>
              <li><a routerLink="offers"><i class="fas fa-gifts"></i> Offers</a></li>
              <li><a routerLink="operators"><i class="fas fa-bus"></i> Operators</a></li>
              <li><a routerLink="routes"><i class="fas fa-map-marker-alt"></i>  Routes</a></li>
              <li><a routerLink="faq"><i class="fas fa-question"></i> FAQ's</a></li>
              <li><a routerLink="testimonials"><i class="fa fa-star"></i> Testimonials</a></li>
              <li><a routerLink="terms-conditions"><i class="fas fa-file-image"></i> Terms & Conditions</a></li>
              <li><a routerLink="privacy-policy"><i class="far fa-file-powerpoint"></i> Privacy Policy</a></li>
              <li><a routerLink="about-us"><i class="fas fa-info-circle"></i> About Us</a></li>
           </ul>
        </div>
                
            </ng-container>
        
        
            <div class="mob-mtbh"></div>
            <div class="mobile-fixed-bottom">
                <div class="footer-menu row m-0 mobile-bg-danger">
                   <div class="col-3 p-0 text-center">
                      <a routerLink="/" class="home active">
                        <i class="fas fa-home"></i>
                         <p class="mb-0 small">Home</p>
                      </a>
                   </div>
                   <div class="col-3 p-0 text-center">
                      <a routerLink="/dashboard" class="home">
                        <i class="fas fa-ticket-alt"></i>
                         <p class="mb-0 small">My Bookings</p>
                      </a>
                   </div>
                 
         
                   <div class="col-3 p-0 text-center" *ngIf="! session.isLoggedIn()" >
                       <a routerLink="/login" class="home">
                         <i class="fas fa-user"></i>
                          <p class="mb-0 small">Login</p>
                       </a>
                    </div>
         
         
                   <div class="col-3 p-0 text-center" *ngIf="session.isLoggedIn()">
                      <a routerLink="/myaccount" class="home">
                        <i class="fas fa-user"></i>
                         <p class="mb-0 small">My Account</p>
                      </a>
                   </div>
        
                   <div class="col-3 p-0 text-center">
                    <a (click)="menu()" class="home {{activeMenu}}">
                      <i class="fas fa-bars"></i>
                       <p class="mb-0 small">Menu</p>
                    </a>
                 </div>
         
                  
                </div>
             </div>
             <img src="../../assets/img/ODBUSLucky Draw_Popup_image.jpg">

<!--  footer END -->

</ng-template>


  <ng-template #popup let-modal> 
     
    <div class="filter-mobile-modal">
      
    <div class="modal-body">
        <button type="button" class="close close-mob" aria-label="Close" (click)="modal.dismiss('Cross Click')">
            <span aria-hidden="true">&times;</span>
          </button>
    
         <p *ngIf="popupData.common.popup_heading && popupData.common.popup_heading !='null'" style="font-weight: bold;color:red;">{{popupData.common.popup_heading}}</p>

         <img *ngIf="popupData.common.popup_image && popupData.common.popup_image !='null'" src="{{popupData.common.popup_image}}" width="100%">

         <p *ngIf="popupData.common.popup_description && popupData.common.popup_description !='null'"> {{popupData.common.popup_description}}</p>
         
         <a  style="text-align: right;" target="_blank" *ngIf="popupData.common.popup_url && popupData.common.popup_url !='null'" class="btn btn-primary" href="{{popupData.common.popup_url}}">Click Here</a>
     
  </div> 
  </div>     
  </ng-template>

<ng-container
  *ngIf="isMobile; then Mobile; else Desktop">
</ng-container>